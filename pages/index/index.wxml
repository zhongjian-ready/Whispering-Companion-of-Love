<view class="container">
  <!-- è¿›åº¦å¡ç‰‡ -->
  <view class="card progress-card">
    <view class="flex-center flex-column">
      <view class="water-icon">ğŸ’§</view>
      <view class="progress-text">ä»Šæ—¥é¥®æ°´è¿›åº¦</view>
      <view class="progress-amount"
        >{{ todayDrink }}ml / {{ dailyGoal }}ml</view
      >

      <!-- è¿›åº¦æ¡ -->
      <view class="progress-bar">
        <view
          class="progress-fill"
          style="width: {{ progressPercent }}%"
        ></view>
      </view>

      <view class="progress-percent">{{ progressPercent }}%</view>
    </view>
  </view>

  <!-- å¿«é€Ÿæ·»åŠ åŒºåŸŸ -->
  <view class="card">
    <view class="title">å¿«é€Ÿæ·»åŠ é¥®æ°´</view>
    <view class="quick-add-buttons flex-wrap">
      <button
        class="quick-btn"
        wx:for="{{ quickAmounts }}"
        wx:key="*this"
        bindtap="addWater"
        data-amount="{{ item }}"
      >
        {{ item }}ml
      </button>
    </view>

    <!-- è‡ªå®šä¹‰è¾“å…¥ -->
    <view class="custom-input mt-20">
      <view class="flex-between">
        <input
          class="input"
          type="number"
          placeholder="è‡ªå®šä¹‰æ¯«å‡æ•°"
          value="{{ customAmount }}"
          bindinput="onCustomAmountInput"
        />
        <button class="btn-secondary" bindtap="addCustomWater">æ·»åŠ </button>
      </view>
    </view>
  </view>

  <!-- ä»Šæ—¥è®°å½• -->
  <view class="card" wx:if="{{ drinkRecords.length > 0 }}">
    <view class="title">ä»Šæ—¥è®°å½•</view>
    <view class="record-list">
      <view
        class="record-item flex-between"
        wx:for="{{ drinkRecords }}"
        wx:key="index"
      >
        <view class="record-info">
          <view class="record-amount">{{ item.amount }}ml</view>
          <view class="record-time text-light">{{ item.time }}</view>
        </view>
        <button
          class="delete-btn"
          bindtap="deleteRecord"
          data-index="{{ index }}"
        >
          åˆ é™¤
        </button>
      </view>
    </view>
  </view>

  <!-- æé†’çŠ¶æ€ -->
  <view class="card">
    <view class="flex-between">
      <view>
        <view class="title">å–æ°´æé†’</view>
        <view class="text-light">{{ reminderText }}</view>
      </view>
      <switch
        checked="{{ reminderEnabled }}"
        bindchange="toggleReminder"
        color="#4fc3f7"
      />
    </view>
  </view>

  <!-- é¼“åŠ±è¯­å¥ -->
  <view class="card encouragement-card" wx:if="{{ encouragementText }}">
    <view class="flex-center">
      <view class="encouragement-icon">ğŸ‰</view>
      <view class="encouragement-text">{{ encouragementText }}</view>
    </view>
  </view>
</view>
